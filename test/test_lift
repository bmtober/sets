. assertion

PATH="../:$PATH"

echo "$(basename $0)"

[[ -d results ]] || mkdir results

tmpfile1=".$(basename $0).$$.1"
tmpfile2=".$(basename $0).$$.2"
tmpfile3=".$(basename $0).$$.3"
trap 'rm "${tmpfile1}" "${tmpfile2}" "${tmpfile3}"' EXIT

echo -e "milk\neggs" > "${tmpfile1}"
echo -e "juice" > "${tmpfile2}"
../union "${tmpfile1}" "${tmpfile2}" > "${tmpfile3}"

../lift "${tmpfile1}" "${tmpfile2}" data/ > results/lift.1


echo
assert 'diff expected/lift.1 results/lift.1 &> /dev/null'

echo
echo "PASS: ${success_count}"
echo "FAIL: ${failure_count}"

